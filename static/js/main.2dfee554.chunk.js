(this["webpackJsonpweb-nfc-playground"]=this["webpackJsonpweb-nfc-playground"]||[]).push([[0],{12:function(e,t,n){},23:function(e,t,n){e.exports=n(36)},28:function(e,t,n){},29:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),c=n.n(o),i=(n(28),n(6)),l=(n(12),n(29),n(9)),s=function(e){var t=e.text,n=e.target;return a.createElement(l.b,{to:n,className:"main-menu-button-wrapper"},a.createElement("div",{className:"main-menu-button"},t))},u=function(){var e=a.useState(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],o=a.useState(!1),c=Object(i.a)(o,2),l=c[0],u=c[1];return a.useEffect((function(){console.log("Checking your NFC capabilities:"),"NDEFReader"in window?(console.log("\u2705 You can read NFC tags!"),r(!0)):console.log("\u274c You can NOT read NFC tags!"),"NDEFWriter"in window?(console.log("\u2705 You can write NFC tags!"),u(!0)):console.log("\u274c You can NOT write read NFC tags!")}),[]),a.createElement("div",{className:"home-wrapper"},a.createElement("div",{id:"nfc-capability-intro"},a.createElement("h1",null,"Your NFC capabilites:"),a.createElement("h3",null,"Reading NFC: ",n?"\u2705":"\u274c"),a.createElement("h3",null,"Writing NFC: ",l?"\u2705":"\u274c")),a.createElement(s,{target:"/simplereading",text:"Simple Reading"}),a.createElement(s,{target:"/simplewriting",text:"Simple Writing"}))},d=n(15),p=n.n(d),m=n(21),g=n(22),f=function(){var e=Object(g.a)(p.a.mark((function e(t){var n,a,r,o,c,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={id:"pending",original:JSON.stringify(t),recordType:"pending",mediaType:"pending"},a=t.message,r=Object(m.a)(a.records),e.prev=3,r.s();case 5:if((o=r.n()).done){e.next=23;break}c=o.value,console.log("Record type:  "+c.recordType),console.log("MIME type:    "+c.mediaType),console.log("Record id:    "+c.id),n.mediaType=c.mediaType,n.id=c.id,e.t0=c.recordType,e.next="text"===e.t0?15:"url"===e.t0?18:20;break;case 15:return i=new TextDecoder(c.encoding),n.recordType="Text: ".concat(i.decode(c.data)," (").concat(c.lang,")"),e.abrupt("break",21);case 18:return n.recordType="URL: ".concat(c.recordType),e.abrupt("break",21);case 20:n.recordType="Default: ".concat(c.recordType);case 21:e.next=5;break;case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(3),r.e(e.t1);case 28:return e.prev=28,r.f(),e.finish(28);case 31:return e.abrupt("return",n);case 32:case"end":return e.stop()}}),e,null,[[3,25,28,31]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=a.useState("booting up... "),t=Object(i.a)(e,2),n=t[0],r=t[1];return a.useEffect((function(){var e=new NDEFReader;e.scan().then((function(){r("pending..."),e.onerror=function(){r("Cannot read data from the NFC tag. Try another one?")},e.onreading=function(e){console.log("NDEF message read."),f(e).then((function(e){return r(JSON.stringify(e))}))}})).catch((function(e){alert("Error! Scan failed to start: ".concat(e,"."))}))}),[]),a.createElement("div",{className:"home-wrapper"},a.createElement("h2",null,"Scan your NFC token!"),"Result: ",JSON.stringify(n))},w=function(){var e=a.useState("...pending"),t=Object(i.a)(e,2),n=t[0],r=t[1];return a.useEffect((function(){(new NDEFWriter).write("Hello World").then((function(){r("Message written.")})).catch((function(e){r("Write failed :-( try again: ".concat(e,"."))}))}),[]),a.createElement("div",{className:"home-wrapper"},a.createElement("h2",null,"Scan your NFC token to write to it!"),n)},E=n(5);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,null,r.a.createElement(E.a,{path:"/",exact:!0,component:u}),r.a.createElement(E.a,{path:"/simplereading",exact:!0,component:h}),r.a.createElement(E.a,{path:"/simplewriting",exact:!0,component:w}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.2dfee554.chunk.js.map
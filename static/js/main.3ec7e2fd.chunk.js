(this["webpackJsonpweb-nfc-playground"]=this["webpackJsonpweb-nfc-playground"]||[]).push([[0],{23:function(e,t,n){e.exports=n(36)},28:function(e,t,n){},29:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(18),c=n.n(o),i=(n(28),n(4)),l=(n(9),n(29),n(10)),u=n(6);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var f,p=a.a.createElement("path",{fill:"#61dafb",d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"}),g=function(e){var t=e.svgRef,n=e.title,r=d(e,["svgRef","title"]);return a.a.createElement("svg",s({viewBox:"0 0 320 512",ref:t},r),n?a.a.createElement("title",null,n):null,p)},m=a.a.forwardRef((function(e,t){return a.a.createElement(g,s({svgRef:t},e))})),h=(n.p,function(e){var t=e.text,n=e.target;return r.createElement(l.b,{to:n,className:"main-menu-button-wrapper"},r.createElement("div",{className:"main-menu-button"},t))}),v=function(e){var t=e.text,n=e.action;return r.createElement("div",{onClick:function(){return n()},className:"main-menu-button-wrapper"},r.createElement("div",{className:"main-menu-button"},t))},w=function(){var e=Object(u.e)();return r.createElement("div",{className:"back-button-wrapper",onClick:function(){return e.push("/")}},r.createElement(m,{className:"back-button-chevron"}),r.createElement("p",null,"Home"))},E=function(){var e=r.useState(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],o=r.useState(!1),c=Object(i.a)(o,2),l=c[0],u=c[1];return r.useEffect((function(){console.log("Checking your NFC capabilities:"),"NDEFReader"in window?(console.log("\u2705 You can read NFC tags!"),a(!0)):console.log("\u274c You can NOT read NFC tags!"),"NDEFWriter"in window?(console.log("\u2705 You can write NFC tags!"),u(!0)):console.log("\u274c You can NOT write read NFC tags!")}),[]),r.createElement("div",{className:"home-wrapper"},r.createElement("div",{id:"nfc-capability-intro"},r.createElement("h1",null,"Your NFC capabilites:"),r.createElement("h3",null,"Reading NFC: ",n?"\u2705":"\u274c"),r.createElement("h3",null,"Writing NFC: ",l?"\u2705":"\u274c")),r.createElement(h,{target:"/simplereading",text:"Simple Reading"}),r.createElement(h,{target:"/simplewriting",text:"Simple Text Writing"}),r.createElement(h,{target:"/simpleurlwriting",text:"Simple URL Writing"}))},b=n(15),y=n.n(b),N=n(21),T=n(22);!function(e){e[e.TEXT=0]="TEXT",e[e.URL=1]="URL"}(f||(f={}));var x=function(){var e=Object(T.a)(y.a.mark((function e(t){var n,r,a,o,c,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={id:"pending",original:JSON.stringify(t),recordType:"pending",mediaType:"pending"},r=t.message,a=Object(N.a)(r.records),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=23;break}c=o.value,console.log("Record type:  "+c.recordType),console.log("MIME type:    "+c.mediaType),console.log("Record id:    "+c.id),n.mediaType=c.mediaType,n.id=c.id,e.t0=c.recordType,e.next="text"===e.t0?15:"url"===e.t0?18:20;break;case 15:return i=new TextDecoder(c.encoding),n.recordType="Text: ".concat(i.decode(c.data)," (").concat(c.lang,")"),e.abrupt("break",21);case 18:return n.recordType="URL: ".concat(c.recordType),e.abrupt("break",21);case 20:n.recordType="Default: ".concat(c.recordType);case 21:e.next=5;break;case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(3),a.e(e.t1);case 28:return e.prev=28,a.f(),e.finish(28);case 31:return e.abrupt("return",n);case 32:case"end":return e.stop()}}),e,null,[[3,25,28,31]])})));return function(t){return e.apply(this,arguments)}}(),O=function(e,t,n){switch(e){case f.TEXT:return S(n,t);case f.URL:return k(t)}},k=function(e){return{records:[{recordType:"url",data:e}]}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"de-DE",t=arguments.length>1?arguments[1]:void 0;return{records:[{recordType:"text",lang:e,encoding:"utf-8",data:t}]}},R=function(){var e=r.useState("booting up... "),t=Object(i.a)(e,2),n=t[0],a=t[1];return r.useEffect((function(){var e=new NDEFReader;e.scan().then((function(){a("pending..."),e.onerror=function(){a("Cannot read data from the NFC tag. Try another one?")},e.onreading=function(e){console.log("NDEF message read."),x(e).then((function(e){return a(JSON.stringify(e))}))}})).catch((function(e){a("Error! Scan failed to start: ".concat(e,"."))}))}),[]),r.createElement("div",{className:"home-wrapper"},r.createElement(w,null),r.createElement("h2",null,"Scan your NFC token!"),"Result: ",JSON.stringify(n))},W=function(){var e=navigator.language,t=r.useState("Write!"),n=Object(i.a)(t,2),a=n[0],o=n[1],c=r.useState(String),l=Object(i.a)(c,2),u=l[0],s=l[1],d=new NDEFWriter;return r.createElement("div",{className:"home-wrapper"},r.createElement(w,null),r.createElement("h2",null,"What do you want to write?"),r.createElement("textarea",{rows:5,value:u,onChange:function(e){return s(e.target.value)}}),r.createElement(v,{text:a,action:function(){d.write(O(f.TEXT,u,e)).then((function(){o("Message written.")})).catch((function(e){o("Write failed :-( try again"),console.error("Write Error: ",e)}))}}))},C=function(){var e=r.useState("Write!"),t=Object(i.a)(e,2),n=t[0],a=t[1],o=r.useState(String),c=Object(i.a)(o,2),l=c[0],u=c[1],s=new NDEFWriter;return r.createElement("div",{className:"home-wrapper"},r.createElement(w,null),r.createElement("h2",null,"Which URL do you want to write?"),r.createElement("textarea",{rows:1,value:l,onChange:function(e){return u(e.target.value)}}),r.createElement(v,{text:n,action:function(){s.write(O(f.URL,l)).then((function(){a("URL written.")})).catch((function(e){a("Write failed :-( try again"),console.error("Write Error: ",e)}))}}))},j=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function F(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(l.a,null,a.a.createElement(u.a,{path:"/",exact:!0,component:E}),a.a.createElement(u.a,{path:"/simplereading",exact:!0,component:R}),a.a.createElement(u.a,{path:"/simplewriting",exact:!0,component:W}),a.a.createElement(u.a,{path:"/simpleurlwriting",exact:!0,component:C}))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/web-nfc-playground",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/web-nfc-playground","/sw.js");j?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):F(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):F(t,e)}))}}()},9:function(e,t,n){}},[[23,1,2]]]);
//# sourceMappingURL=main.3ec7e2fd.chunk.js.map